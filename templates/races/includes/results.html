{% load race_extras %}

{% block results %}

<h3>Overall Results</h3>

<table class="table table-striped table-bordered table-condensed">
	<thead>
		<tr>
			<th>Place</th>
			<th>Bib</th>
			<th>Name</th>
			<th>Gender</th>
			<th>Time</th>
			<th>Award</th>
		</tr>
	</thead>
	<tbody>
		{% for result in object.get_overall_results %}
		<tr{% if result.course_record %} bgcolor="{% if result.racer.gender == 1 %}CCFFFF{% else %}#FFCCCC{% endif %}"{% endif %}>
			<td>
				{% if not result.dq %}
					{{ forloop.counter }}
				{% else %}
					DQ
				{% endif %}
			</td>
			<td>{{ result.bib_number }}</td>
			<td><a href="{{ result.racer.get_absolute_url }}">{{ result.racer.full_name }}</a></td>
			<td>{{ result.racer.get_gender_display }}</td>
			<td>{{ result.time|replace_char:",:" }}
				{% if result.course_record %}CR{% endif %}
			</td>
			<td>{{ result.place }}</td>
		</tr>
		{% endfor %}
	</tbody>
</table>

<h3>Male Results</h3>

<table class="table table-striped table-bordered table-condensed">
	<thead>
		<tr>
			<th>Place</th>
			<th>Bib</th>
			<th>Name</th>
			<th>Time</th>
			<th>Award</th>
		</tr>
	</thead>
	<tbody>
		{% for result in object.get_male_results %}
		<tr{% if result.course_record %} bgcolor="{% if result.racer.gender == 1 %}CCFFFF{% else %}#FFCCCC{% endif %}"{% endif %}>
			<td>
				{% if not result.dq %}
					{{ forloop.counter }}
				{% else %}
					DQ
				{% endif %}
			</td>
			<td>{{ result.bib_number }}</td>
			<td><a href="{{ result.racer.get_absolute_url }}">{{ result.racer.full_name }}</a></td>
			<td>{{ result.time|replace_char:",:" }}
				{% if result.course_record %}CR{% endif %}
			</td>
			<td>{{ result.place }}</td>
		</tr>
		{% endfor %}
	</tbody>
</table>

<h3>Female Results</h3>

<table class="table table-striped table-bordered table-condensed">
	<thead>
		<tr>
			<th>Place</th>
			<th>Bib</th>
			<th>Name</th>
			<th>Time</th>
			<th>Award</th>
		</tr>
	</thead>
	<tbody>
		{% for result in object.get_female_results %}
		<tr{% if result.course_record %} bgcolor="{% if result.racer.gender == 1 %}CCFFFF{% else %}#FFCCCC{% endif %}"{% endif %}>
			<td>
				{% if not result.dq %}
					{{ forloop.counter }}
				{% else %}
					DQ
				{% endif %}
			</td>
			<td>{{ result.bib_number }}</td>
			<td><a href="{{ result.racer.get_absolute_url }}">{{ result.racer.full_name }}</a></td>
			<td>{{ result.time|replace_char:",:" }}
				{% if result.course_record %}CR{% endif %}
			</td>
			<td>{{ result.place }}</td>
		</tr>
		{% endfor %}
	</tbody>
</table>
{% endblock %}
